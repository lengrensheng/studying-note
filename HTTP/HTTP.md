##HTTP协议
###概要
---
- HTTP协议是基于TCP／IP协议的应用层协议。
- 对于同一个域名，大多数浏览器允许同时建立6个持久连接
- HTTP/1.0:GET/POST/HEAD，HTTP/1.1:PUT／OPTIONS／TRACE／CONNECT／DELETE，HTTP/1.1之后：PATCH
- HTTP/2二进制协议，头信息和数据体都必须是二进制编码［头信息帧和数据帧］（1.1头信息肯定为文本（ASCII编码），数据体可以是文本也可以是二进制）
- HTTP/2客户端和浏览器都可以同时发送多个请求或回应，且不用按顺序一一对应(HTTP/1.1 客户端可以同时发起多个请求，但是所有数据通信是按次序进行，服务器只有处理完一个回应，才会进行下一个回应，会有对头阻塞问题)
- HTTP/2需要对数据包进行标记，客户端发出的数据流ID一律为奇数，服务器发出的ID为偶数
- HTTP/2在数据流发送的过程中可以取消这个数据流（HTTP/1.1取消数据流只能通过关闭TCP连接）
- HTTP/2可以设置数据流的优先级，服务器推送（未经请求，主动向客户端发送资源）
- HTTP协议不带有状态，每次请求都必须附上所有信息，请求的很多字段都是重复的（Cookie,User Agent）,通过引用头信息压缩机制(头信息使用gzip或compress压缩后再发送)［客户端和服务器同时维护一张头信息表，所有字段都会存入这个表，生成一个索引号，以后就不发送同样字段了，只发送索引号用以提供速度］

###HTTP请求方法介绍
---
+ GET

	*GET请求会显示置顶的资源，用于数据的读取。GET方法对于服务器而言是安全的方法，只读取服务资源信息，不改变服务器资源信息。但GET方法就访问方式和资料保密而言被认为是不安全的方法，因为GET方法会被网络蜘蛛等任意的访问*
+ HEAD
	
	*HEAD方法与GET方法一样，都是向服务器发出指定资源的请求。但是服务器在响应HEAD请求时不会回传资源的内容部分（响应主体）。HEAD方法常被用于客户端查看服务器的性能*
+ POST

	*POST请求会向指定资源提交数据，请求服务器进行处理（表单数据提交、文件上传等），请求数据会被包含在请求体中。非幂等方法*
+ PUT

	*PUT请求会向指定资源位置上传其最新内容，PUT方法是幂等的方法，通过该方法客户端可以指定将资源的最新数据传送给服务器取代指定的资源的内容*
+ DELETE

	*DELETE请求用于请求服务器删除所请求URI所标志的资源，DELETE方法也是幂等的*
+ CONNECT

	*CONNECT方法是HTTP/1.1协议预留的，能够将连接改为管道方式的代理服务器。通常用于SSL加密服务器的链接与非加密的HTTP代理服务器的通信*
+ OPTIONS

	*OPTIONS请求与HEAD类似，一般也是用于客户端查看服务器的性能。这个方法会请求服务器返回该资源所支持的所有HTTP请求方法,该方法会用'\*'来代替资源名称。用来测试服务器功能是否正常*
+ TRACE

	*TRACE请求服务器会显示其受到的请求信息，主要用于HTTP请求的测试或诊断*
+ PATCH

	*PATCH请求与PUT请求类似，同样用于资源的更新，不同点在于：*
	
	+ *PATCH一般用于资源的部分更新，而PUT一般用于资源的整体更新*
	+ *当资源不存在时，PATCH会创建一个新的资源，而PUT只会对已存在的资源进行更新*
	
	
###HTTP无状态协议
---
同一个客户端的这次请求和上次请求是没有对应关系，对于http服务器来说，它并不知道两个请求来自同一个客户端。无状态是指协议对于事物处理没有记忆能力，服务器不知道客户端是什么状态。

###HTTP消息结构
---
+ #####Request消息的结构：三部分
	1. 请求行(Request line)：包括http请求的种类，请求资源的路径，http协议版本［GET/hope/HTTP/1.1］
	2. 请求头(http header)：http头部信息
	
		```
	Host: ce.sysu.edu.cn
	Accept: */*
	Accept-Encoding: gzip, deflate, sdch
	Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.6
	Cache-Control: max-age=0
	Cookie:.........
	Referer: http://ce.sysu.edu.cn/hope/
	User-Agent: Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, 	like Gecko) Chrome/44.0.2403.130 Safari/537.36
		```
	3. 请求体(http body)
+ #####Response消息的结构:三部分
	1. 状态行 ［HTTP协议版本 响应状态码 状态码的文本描述］
	
		*状态码由三位数字组成：*
		+ *1xx:只是信息，表示请求已经接收，继续处理*
		+ *2xx:成功，表示请求已被成功接收、理解、接受*
		+ *3xxx:重定向，要完成请求必须进行更进一步的操作*
		+ *4xx:客户端错误，表示请求语法错误或请求无法实现*
		+ *5xx:服务器端错误，表示服务器未能实现合法的请求*
	2. 消息报头
	3. 响应正文
	
###GET和POST区别
---
1. GET一般用于获取／查询资源信息，POST一般用于更新资源
2. GET提交的数据会放在URL之后，以？分割URL和传输数据，参数之间以&相连。POST方法是把提交的数据放在HTTP包的Body中
3. GET提交的数据大小有限制（浏览器对URL的长度有限制），POST方法提交的数据没有限制
4. GET方式需要使用Request.QueryString来取得变量的值，POST方式通过Request.Form来获取变量的值
5. GET明文登录会存在安全行问题


###HTTP消息报头
---
- 普通报头：用于所有的请求和响应消息，但并不用于被传输的实体，只用于传输的消息
- 请求报头：允许客户端向服务器端传递请求的附加信息以及客户端自身的信息
	
	*常用请求报头：*
	
	+ Accept：`用于指定客户端接受哪些类型的信息，eg：Accept：image/gif、Accept：text/html`
	+ Accept-Charset：`用于指定客户端接受的字符集，eg：eg：Accept-Charset:iso-8859-1,gb2312（没有设置则表示可接受任何字符集）`
	+ Accept-Encoding：`用于指定可接受的内容编码，eg：Accept-Encoding:gzip.deflate`
	+ Accept-Language：`用于指定一种自然语言，eg：Accept-Language:zh-cn`
	+ Authorization：`用于证明客户端有权查看某个资源`
	+ Host：`必须，用于指定被请求资源的Internet主机和端口号`
	+ User-Agent：`允许客户端将它的操作系统、浏览器和其它属性告诉服务器`
	
- 响应报头：允许服务器传递不能放在状态行中的附加响应信息，以及关于服务器的信息和对Request－URI所标识的资源进行下一步访问的信息

	*常用的响应报头*
	
	+ Location：`用于重定向接受者到一个新的位置，常用于更换域名的时候`
	+ Server：`包含了服务器用来处理请求的软件信息，与User－Agent请求报头域相对应`
- 实体报头：请求和响应消息都可以传送一个实体。一个实体由实体报头域和实体正文组成。实体报头定义了关于实体正文和请求所标识的资源的元信息

	*常用的实体报头*
	
	+ Content-Encoding：`被用作媒体类型的修饰符，指示了已经被应用到实体正文的附加内容的编码。如果要获得Content-Type报头域中所引用的媒体类型，必须采用相应的编码机制`
	+ Content-Language：`描述了资源所用的自然语言`
	+ Last-Modified：`用于指示资源的最后修改日期和时间`
	+ Expires：`给出了响应过期的日期和时间`
